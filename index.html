<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hypoteční kalkulačka</title>
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Progress Bar -->
                <div class="mb-4">
                    <div class="progress" style="height: 5px;">
                        <div id="progressBar" class="progress-bar" role="progressbar" style="width: 20%"></div>
                    </div>
                    <div class="text-center mt-2">
                        <small class="text-muted">Krok <span id="currentStepNumber">1</span> z 5</small>
                    </div>
                </div>

                <!-- Wizard Card -->
                <div class="card shadow">
                    <div class="card-body p-4">
                        <!-- Step 1: Property Type Selection -->
                        <div id="step1" class="wizard-step">
                            <h2 class="mb-3" id="step1Title"></h2>
                            <p class="text-muted mb-4" id="step1Subtitle"></p>
                            <div class="d-grid gap-3" id="propertyTypeContainer">
                                <!-- Property types will be generated by JS -->
                            </div>
                            <div class="mt-4">
                                <button type="button" class="btn btn-primary btn-lg w-100" id="step1Next" disabled>
                                    <span id="nextButton1"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 2: Property Value -->
                        <div id="step2" class="wizard-step d-none">
                            <h2 class="mb-3" id="step2Title"></h2>
                            <p class="text-muted mb-4" id="step2Subtitle"></p>
                            <div class="mb-4">
                                <div class="input-group input-group-lg">
                                    <input type="number" class="form-control form-control-lg text-end" 
                                           id="propertyValue" placeholder="0" min="0" step="100000">
                                    <span class="input-group-text" id="currencySymbol1"></span>
                                </div>
                                <div class="form-text">Zadejte celkovou hodnotu nemovitosti</div>
                            </div>
                            <div class="d-flex gap-2">
                                <button type="button" class="btn btn-outline-secondary btn-lg" id="step2Prev">
                                    <span id="prevButton2"></span>
                                </button>
                                <button type="button" class="btn btn-primary btn-lg flex-grow-1" id="step2Next" disabled>
                                    <span id="nextButton2"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 3: Loan Amount -->
                        <div id="step3" class="wizard-step d-none">
                            <h2 class="mb-3" id="step3Title"></h2>
                            <p class="text-muted mb-4" id="step3Subtitle"></p>
                            <div class="mb-4">
                                <div class="d-grid gap-3 mb-3" id="loanPresetContainer">
                                    <!-- Loan presets will be generated by JS -->
                                </div>
                                <button type="button" class="btn btn-outline-primary w-100" id="showCustomLoan">
                                    <span id="otherAmountLabel"></span>
                                </button>
                            </div>
                            <!-- Custom Loan Slider -->
                            <div id="customLoanContainer" class="d-none mb-4">
                                <label for="loanPercentSlider" class="form-label">Procento půjčky: <strong id="loanPercentDisplay">50</strong>%</label>
                                <input type="range" class="form-range" id="loanPercentSlider">
                                <div class="form-text">
                                    Výše půjčky: <strong id="loanAmountDisplay">0</strong> <span id="currencySymbol2"></span>
                                </div>
                            </div>
                            <div class="d-flex gap-2">
                                <button type="button" class="btn btn-outline-secondary btn-lg" id="step3Prev">
                                    <span id="prevButton3"></span>
                                </button>
                                <button type="button" class="btn btn-primary btn-lg flex-grow-1" id="step3Next" disabled>
                                    <span id="nextButton3"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 4: Duration -->
                        <div id="step4" class="wizard-step d-none">
                            <h2 class="mb-3" id="step4Title"></h2>
                            <p class="text-muted mb-4" id="step4Subtitle"></p>
                            <div class="mb-4">
                                <label for="durationSlider" class="form-label">
                                    Délka splácení: <strong id="durationDisplay">15</strong> let
                                </label>
                                <input type="range" class="form-range" id="durationSlider">
                            </div>
                            <!-- Summary Display -->
                            <div class="alert alert-info mb-4">
                                <h5 class="alert-heading">Přehled hypotéky</h5>
                                <hr>
                                <div class="row">
                                    <div class="col-6">
                                        <strong>Hodnota nemovitosti:</strong>
                                    </div>
                                    <div class="col-6 text-end">
                                        <span id="summaryPropertyValue">0</span> <span id="currencySymbol3"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <strong>Výše úvěru:</strong>
                                    </div>
                                    <div class="col-6 text-end">
                                        <span id="summaryLoanAmount">0</span> <span id="currencySymbol4"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-6">
                                        <strong>Délka splácení:</strong>
                                    </div>
                                    <div class="col-6 text-end">
                                        <span id="summaryDuration">0</span> let
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-6">
                                        <h5>Měsíční splátka:</h5>
                                    </div>
                                    <div class="col-6 text-end">
                                        <h5 class="text-primary"><span id="monthlyPayment">0</span> <span id="currencySymbol5"></span></h5>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex gap-2">
                                <button type="button" class="btn btn-outline-secondary btn-lg" id="step4Prev">
                                    <span id="prevButton4"></span>
                                </button>
                                <button type="button" class="btn btn-primary btn-lg flex-grow-1" id="step4Next">
                                    <span id="nextButton4"></span>
                                </button>
                            </div>
                        </div>

                        <!-- Step 5: Contact Form -->
                        <div id="step5" class="wizard-step d-none">
                            <h2 class="mb-3" id="step5Title"></h2>
                            <p class="text-muted mb-4" id="step5Subtitle"></p>
                            <form id="contactForm" class="mb-4">
                                <div class="mb-3">
                                    <label for="name" class="form-label">Jméno a příjmení *</label>
                                    <input type="text" class="form-control" id="name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="email" class="form-label">E-mail *</label>
                                    <input type="email" class="form-control" id="email" required>
                                </div>
                                <div class="mb-3">
                                    <label for="phone" class="form-label">Telefon *</label>
                                    <input type="tel" class="form-control" id="phone" required>
                                </div>
                                <div class="mb-3">
                                    <label for="zip" class="form-label">PSČ *</label>
                                    <input type="text" class="form-control" id="zip" pattern="[0-9]{3}\s?[0-9]{2}" required>
                                    <div class="form-text">Formát: 123 45</div>
                                </div>
                            </form>
                            <!-- Success/Error Messages -->
                            <div id="successMessage" class="alert alert-success d-none" role="alert">
                                Děkujeme! Vaše poptávka byla úspěšně odeslána. Budeme vás brzy kontaktovat.
                            </div>
                            <div id="errorMessage" class="alert alert-danger d-none" role="alert">
                                Omlouváme se, ale při odesílání formuláře došlo k chybě. Zkuste to prosím znovu.
                            </div>
                            <div class="d-flex gap-2">
                                <button type="button" class="btn btn-outline-secondary btn-lg" id="step5Prev">
                                    <span id="prevButton5"></span>
                                </button>
                                <button type="submit" class="btn btn-success btn-lg flex-grow-1" id="submitBtn" form="contactForm">
                                    <span id="submitButton"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5.3 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Config and App JS -->
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
